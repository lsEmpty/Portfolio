{"ast":null,"code":"import { resolveComponent as _resolveComponent, openBlock as _openBlock, createBlock as _createBlock, createCommentVNode as _createCommentVNode, Transition as _Transition, withCtx as _withCtx, createVNode as _createVNode, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"terminal-content\",\n  id: \"terminal-content\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_ModalComponent = _resolveComponent(\"ModalComponent\");\n  const _component_BarComponent = _resolveComponent(\"BarComponent\");\n  const _component_NavTerminalComponent = _resolveComponent(\"NavTerminalComponent\");\n  const _component_CommandsComponent = _resolveComponent(\"CommandsComponent\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_Transition, {\n    name: \"fade\",\n    onBeforeEnter: $options.beforeEnter,\n    onEnter: $options.enter,\n    onLeave: $options.leave\n  }, {\n    default: _withCtx(() => [$data.showModal ? (_openBlock(), _createBlock(_component_ModalComponent, {\n      key: 0,\n      onCloseModal: _cache[0] || (_cache[0] = $event => $data.showModal = false)\n    })) : _createCommentVNode(\"v-if\", true)]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"onBeforeEnter\", \"onEnter\", \"onLeave\"]), _createVNode(_component_BarComponent, {\n    onCloseTerminal: $options.closeTerminal,\n    onOpenModal: $options.openModal\n  }, null, 8 /* PROPS */, [\"onCloseTerminal\", \"onOpenModal\"]), $data.showNavTerminal ? (_openBlock(), _createBlock(_component_NavTerminalComponent, {\n    key: 0,\n    ref: \"navterminal\",\n    onShowItemProfile: $options.showItemProfile,\n    onCommandTerminal: $options.OpenTerminal\n  }, null, 8 /* PROPS */, [\"onShowItemProfile\", \"onCommandTerminal\"])) : _createCommentVNode(\"v-if\", true), $data.showCommandTerminal ? (_openBlock(), _createBlock(_component_CommandsComponent, {\n    key: 1,\n    onNavegatorTerminal: $options.OpenTerminal,\n    onExitTerminal: $options.closeTerminal\n  }, null, 8 /* PROPS */, [\"onNavegatorTerminal\", \"onExitTerminal\"])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","id","_createElementBlock","_hoisted_1","_createVNode","_Transition","name","onBeforeEnter","$options","beforeEnter","onEnter","enter","onLeave","leave","default","_withCtx","$data","showModal","_createBlock","_component_ModalComponent","key","onCloseModal","_cache","$event","_createCommentVNode","_","_component_BarComponent","onCloseTerminal","closeTerminal","onOpenModal","openModal","showNavTerminal","_component_NavTerminalComponent","ref","onShowItemProfile","showItemProfile","onCommandTerminal","OpenTerminal","showCommandTerminal","_component_CommandsComponent","onNavegatorTerminal","onExitTerminal"],"sources":["C:\\Users\\danid\\Portfolio\\src\\components\\terminal.vue"],"sourcesContent":["<template>\r\n    <div class=\"terminal-content\" id=\"terminal-content\">\r\n        <transition name=\"fade\" @before-enter=\"beforeEnter\" @enter=\"enter\" @leave=\"leave\">\r\n            <ModalComponent v-if=\"showModal\" @close-modal=\"showModal = false\" />\r\n        </transition>\r\n        <BarComponent @closeTerminal=\"closeTerminal\" @openModal=\"openModal\"></BarComponent>\r\n        <NavTerminalComponent v-if=\"showNavTerminal\" ref=\"navterminal\" @showItemProfile=\"showItemProfile\" @CommandTerminal=\"OpenTerminal\">\r\n        </NavTerminalComponent>\r\n        <CommandsComponent v-if=\"showCommandTerminal\" @NavegatorTerminal=\"OpenTerminal\" @ExitTerminal=\"closeTerminal\">\r\n        </CommandsComponent>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport BarComponent from '@/components/bar.vue'\r\nimport CommandsComponent from '@/components/commands.vue'\r\nimport NavTerminalComponent from '@/components/nav-terminal.vue'\r\nimport ModalComponent from '@/components/modal-search.vue'\r\nexport default {\r\n    name: 'TerminalComponent',\r\n    components: {\r\n        BarComponent,\r\n        CommandsComponent,\r\n        NavTerminalComponent,\r\n        ModalComponent\r\n    },\r\n    methods: {\r\n        closeTerminal(value) {\r\n            this.$emit('closeTerminal', value); // Reenviar el evento al padre\r\n        },\r\n        focusNavTerminal() {\r\n            if (this.showNavTerminal && !this.showModal) {\r\n                this.$refs.navterminal.focusNavTerminal();\r\n            }\r\n        },\r\n        removeFocusNavTerminal() {\r\n            this.$refs.navterminal.removeFocusNavTerminal();\r\n        },\r\n        OpenTerminal(navegator, command) {\r\n            this.showNavTerminal = navegator;\r\n            this.showCommandTerminal = command;\r\n        }\r\n        , beforeEnter(el) {\r\n            el.style.opacity = 0;\r\n        },\r\n        enter(el, done) {\r\n            // Para asegurar que el modal esté visible antes de hacer la transición\r\n            el.offsetHeight; // Trigger a reflow\r\n            el.style.transition = 'opacity 0.3s ease';\r\n            el.style.opacity = 1;\r\n            done();\r\n        },\r\n        leave(el, done) {\r\n            el.style.transition = 'opacity 0.3s ease';\r\n            el.style.opacity = 0;\r\n            setTimeout(() => {\r\n                done();\r\n            }, 300); // El tiempo debe coincidir con la duración de la transición\r\n        },\r\n        openModal(value) {\r\n            if (!this.inProfileComponent){\r\n                this.showModal = value;\r\n            }\r\n        },\r\n        handleKeyDown(event) {\r\n            this.keysPressed[event.key] = true;\r\n            if (this.keysPressed['Control'] && this.keysPressed['m']) {\r\n                this.openModal(!this.showModal);\r\n                if (!this.inProfileComponent) {\r\n                    this.focusNavTerminal();\r\n                }\r\n            }else if (this.keysPressed['Control'] && this.keysPressed['x']) {\r\n                this.closeTerminal(false);\r\n            }else if (event.key === 'ArrowUp' || event.key === 'ArrowDown') {\r\n                event.preventDefault();\r\n            } \r\n        },\r\n        handleKeyUp(event) {\r\n            this.keysPressed[event.key] = false;\r\n        },\r\n        showItemProfile(values){\r\n            this.$emit('showItemProfile', values);\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            showNavTerminal: true,\r\n            showCommandTerminal: false,\r\n            showModal: false,\r\n            keysPressed: {}\r\n        }\r\n    },\r\n    mounted() {\r\n        window.addEventListener('keydown', this.handleKeyDown);\r\n        window.addEventListener('keyup', this.handleKeyUp);\r\n    },\r\n    beforeUnmount() {  // Se usa en lugar de beforeDestroy\r\n        window.removeEventListener('keydown', this.handleKeyDown);\r\n        window.removeEventListener('keyup', this.handleKeyUp);\r\n    },\r\n    props: {\r\n        inProfileComponent: {\r\n            type: Boolean,\r\n            request: true\r\n        }\r\n    }\r\n}\r\n\r\n</script>\r\n\r\n<style scoped>\r\n.terminal-content {\r\n    margin-top: 34px;\r\n    margin-bottom: 65px;\r\n    width: 130vh;\r\n    height: 80vh;\r\n    background-color: #1C2639;\r\n    border-radius: 11px;\r\n}\r\n</style>"],"mappings":";;EACSA,KAAK,EAAC,kBAAkB;EAACC,EAAE,EAAC;;;;;;;uBAAjCC,mBAAA,CASM,OATNC,UASM,GARFC,YAAA,CAEaC,WAAA;IAFDC,IAAI,EAAC,MAAM;IAAEC,aAAY,EAAEC,QAAA,CAAAC,WAAW;IAAGC,OAAK,EAAEF,QAAA,CAAAG,KAAK;IAAGC,OAAK,EAAEJ,QAAA,CAAAK;;IAFnFC,OAAA,EAAAC,QAAA,CAGY,MAAoE,CAA9CC,KAAA,CAAAC,SAAS,I,cAA/BC,YAAA,CAAoEC,yBAAA;MAHhFC,GAAA;MAG8CC,YAAW,EAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAAEP,KAAA,CAAAC,SAAS;UAHpEO,mBAAA,e;IAAAC,CAAA;8DAKQrB,YAAA,CAAmFsB,uBAAA;IAApEC,eAAa,EAAEnB,QAAA,CAAAoB,aAAa;IAAGC,WAAS,EAAErB,QAAA,CAAAsB;+DAC7Bd,KAAA,CAAAe,eAAe,I,cAA3Cb,YAAA,CACuBc,+BAAA;IAP/BZ,GAAA;IAMqDa,GAAG,EAAC,aAAa;IAAEC,iBAAe,EAAE1B,QAAA,CAAA2B,eAAe;IAAGC,iBAAe,EAAE5B,QAAA,CAAA6B;yEAN5Hb,mBAAA,gBAQiCR,KAAA,CAAAsB,mBAAmB,I,cAA5CpB,YAAA,CACoBqB,4BAAA;IAT5BnB,GAAA;IAQuDoB,mBAAiB,EAAEhC,QAAA,CAAA6B,YAAY;IAAGI,cAAY,EAAEjC,QAAA,CAAAoB;wEARvGJ,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}